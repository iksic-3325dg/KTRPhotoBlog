<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Nostalgic Railway Blog</title>
        <script src="https://kit.fontawesome.com/16ab2ca5ce.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="ress.css"> 
        <link rel="stylesheet" href="stylesheet.css">
        <link rel="stylesheet" href="responsive.css">

        <base href="/Nostalgic-Railway-Blog/">

        <!-- これだけ残す（type="module" 必須） -->
        <script type="module" src="/Nostalgic-Railway-Blog/assets/js/search.js"></script>


        <!-- 検索UI（ヘッダーを崩さないフローティング） -->
        <style>
        #pf-panel{position:fixed;z-index:9999;width:320px;max-width:calc(100vw - 24px);
            right:12px;top:72px;display:none;background:#fff;border-radius:12px;
            box-shadow:0 10px 28px rgba(0,0,0,.18);padding:12px}
        #pf-panel input{width:100%;padding:8px 10px;border:1px solid #ccc;border-radius:8px}
        #pf-results{margin-top:10px;max-height:60vh;overflow:auto}
        #pf-results a{display:block;padding:6px 0;color:#333;text-decoration:none}
        #pf-results a:hover{text-decoration:underline}
        </style>

        <script>
        // baseタグがあるのでこれでOK
        const PF_BASE = new URL(document.baseURI).pathname;

        function ensurePanel(){
            if (document.getElementById('pf-panel')) return;
            const p = document.createElement('div');
            p.id = 'pf-panel';
            p.innerHTML = '<input id="pf-input" placeholder="サイト内検索…"><div id="pf-results"></div>';
            document.body.appendChild(p);
        }
        function openPanel(){ const p = document.getElementById('pf-panel'); p.style.display='block'; document.getElementById('pf-input').focus(); }
        function closePanel(){ const p = document.getElementById('pf-panel'); p.style.display='none'; }

        window.addEventListener('load', async () => {
            if (typeof window.pagefind !== 'function') { console.error('pagefind.js 未ロード'); return; }
            ensurePanel();
            const engine  = await window.pagefind({ baseUrl: PF_BASE });

            const trigger = document.querySelector('.header-search a') || document.querySelector('[data-search]');
            if (trigger) {
            trigger.addEventListener('click', (e)=>{ e.preventDefault();
                const p = document.getElementById('pf-panel');
                if (p.style.display==='block') { closePanel(); return; }
                openPanel(); document.getElementById('pf-input').value=''; document.getElementById('pf-results').innerHTML='';
            });
            }

            document.addEventListener('click', (e)=>{
            const p = document.getElementById('pf-panel');
            if (p.style.display!=='block') return;
            if (!e.target.closest('#pf-panel') && !e.target.closest('.header-search') && !e.target.closest('[data-search]')) closePanel();
            });
            document.addEventListener('keydown', (e)=>{ if (e.key==='Escape') closePanel(); });

            let t; const input = document.getElementById('pf-input'); const list = document.getElementById('pf-results');
            input.addEventListener('input', ()=>{
            clearTimeout(t);
            t=setTimeout(async ()=>{
                const q=input.value.trim(); list.innerHTML=''; if(!q) return;
                const res=await engine.search(q);
                if(!res?.results?.length){ list.innerHTML='<p>該当する結果はありません。</p>'; return; }
                for(const r of res.results){ const d=await r.data(); const a=document.createElement('a'); a.href=d.url; a.textContent=d.meta?.title||d.url; list.appendChild(a); }
            }, 160);
            });
        });
        </script>

	</head>
	<body>
        <header>
            <div class="container">
                <div class="header-left">
                    <h3>Nostalgic Railway Blog</h3>
                </div>
		            <div class="header-search">
                    <a href="#"><i class="fa-solid fa-magnifying-glass"></i></a>
                </div>
                <div class="header-right">
                    <a href="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/">ホーム</a>
                    <a href="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/page1/">ブログ</a>
                    <a href="#">写真の撮り方</a>     
                    <a href="#">自己紹介</a>                                    
                </div>
            </div>
        </header>
        <div class="top-wrapper"  oncontextmenu="return false;">
            <div class="container">
                <h2>Nostalgic Railway Blog</h2>
            </div>
        </div>
        <div class="main-wrapper"  oncontextmenu="return false;">
            <div class="container">
                <div class="heading">
                    <h1>令和の鉄道にノスタルジーを求めて</h1>
                </div>
                <div class="main-contents">
                    <p>昭和の鉄道車両には底知れぬ魅力があります。</p>
                    <p>極めてバランスの取れた顔立ちに、景観にぴたりと調和する彩色。</p>
                    <p>ごつごつした車体表面の重厚さに、迫力ある出で立ち。</p>
                    <p>車体にもどこか温かさが感じられ、そして哀愁が漂っています。</p>
                    <p>沢山の人に長く大切にされる中で、人の情が移ってきたのかも知れません。</p>
                    <p>そんな古く懐かしい車両たちも令和の時代に入り、急速に数が減っております。</p>
                    <p>国鉄型車両は消滅間近な状況で、大手私鉄も徐々に旧型車両が引退していきます。</p>
                    <p>私もそんな昭和の鉄道車両に魅了された一人として、時代に追いかけられるように、<span>鉄道編成写真</span>を日々撮影しておりました。</p>
                    <p>私が社会人になりたての頃、仕事そっちのけで全国を巡って撮影した写真を公開していきます。</p>
                    <p>令和の世にも再び魅力あふれる鉄道車両が登場することや、</p>
                    <p>引退した車両の動態保存運行が活発になることを願ってやみません。</p>
                </div>
            </div>
        </div>
        <div class="commercial-wrapper">
            <div class="container">
                <a href="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/page3/" class="btn check">最新記事をチェック</a>
            </div>
        </div>
        <footer>
            <div class="container">
                <div class="attention-wrapper">
                    <h4>画像の無断転載を禁止します</h4>
					<p>All rights reserved.</p>
                </div>
                <div class="footer-right">
                    <a href="https://x.com/ko4120?s=21&t=c-Wq_C3q3IHcd2p6pmCdpA" class="btn X"><i class="fa-brands fa-x-twitter"></i> (旧Twitter)リンクはこちら</a>
                </div>
                <div class="footer-left">
                    <p>Nostalgic Railway Blog</p>
                </div>
                <div class="clear"></div>
            </div>
        </footer>		
	</body>
</html>
