<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Nostalgic Railway Blog</title>
        <script src="https://kit.fontawesome.com/16ab2ca5ce.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="ress.css"> 
        <link rel="stylesheet" href="stylesheet.css">
        <link rel="stylesheet" href="responsive.css">
	</head>
	<body>
        <header>
            <div class="container">
                <div class="header-left">
                    <h3>Nostalgic Railway Blog</h3>
                </div>
		            <div class="header-search">
                    <a href="#"><i class="fa-solid fa-magnifying-glass"></i></a>
                </div>


		            <!-- 🔍 検索バー（最初は非表示） -->
		          <div id="search-container" style="display:none; margin-top:10px;">
  			            <input id="search" type="text" placeholder="検索..." style="padding:8px; width:200px;">
			              <div id="search-results" style="margin-top:8px;"></div>
		          </div>


                <div class="header-right">
                    <a href="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/">ホーム</a>
                    <a href="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/page1/">ブログ</a>
                    <a href="#">写真の撮り方</a>     
                    <a href="#">自己紹介</a>                                    
                </div>
            </div>
        </header>
        <div class="top-wrapper"  oncontextmenu="return false;">
            <div class="container">
                <h2>Nostalgic Railway Blog</h2>
            </div>
        </div>
        <div class="main-wrapper"  oncontextmenu="return false;">
            <div class="container">
                <div class="heading">
                    <h1>令和の鉄道にノスタルジーを求めて</h1>
                </div>
                <div class="main-contents">
                    <p>昭和の鉄道車両には底知れぬ魅力があります。</p>
                    <p>極めてバランスの取れた顔立ちに、景観にぴたりと調和する彩色。</p>
                    <p>ごつごつした車体表面の重厚さに、迫力ある出で立ち。</p>
                    <p>車体にもどこか温かさが感じられ、そして哀愁が漂っています。</p>
                    <p>沢山の人に長く大切にされる中で、人の情が移ってきたのかも知れません。</p>
                    <p>そんな古く懐かしい車両たちも令和の時代に入り、急速に数が減っております。</p>
                    <p>国鉄型車両は消滅間近な状況で、大手私鉄も徐々に旧型車両が引退していきます。</p>
                    <p>私もそんな昭和の鉄道車両に魅了された一人として、時代に追いかけられるように、<span>鉄道編成写真</span>を日々撮影しておりました。</p>
                    <p>私が社会人になりたての頃、仕事そっちのけで全国を巡って撮影した写真を公開していきます。</p>
                    <p>令和の世にも再び魅力あふれる鉄道車両が登場することや、</p>
                    <p>引退した車両の動態保存運行が活発になることを願ってやみません。</p>
                </div>
            </div>
        </div>
        <div class="commercial-wrapper">
            <div class="container">
                <a href="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/page3/" class="btn check">最新記事をチェック</a>
            </div>
        </div>
        <footer>
            <div class="container">
                <div class="attention-wrapper">
                    <h4>画像の無断転載を禁止します</h4>
					<p>All rights reserved.</p>
                </div>
                <div class="footer-right">
                    <a href="https://x.com/ko4120?s=21&t=c-Wq_C3q3IHcd2p6pmCdpA" class="btn X"><i class="fa-brands fa-x-twitter"></i> (旧Twitter)リンクはこちら</a>
                </div>
                <div class="footer-left">
                    <p>Nostalgic Railway Blog</p>
                </div>
                <div class="clear"></div>
            </div>
        </footer>		


<!-- Pagefind の検索スクリプト -->
<script src="https://iksic-3325dg.github.io/Nostalgic-Railway-Blog/pagefind/pagefind.js"></script>
<script>
document.addEventListener("DOMContentLoaded", async () => {
  console.log("🔍 Pagefind initializing...");

  const toggle = document.querySelector(".header-search a");
  const searchContainer = document.getElementById("search-container");
  const input = document.getElementById("search");
  const resultsDiv = document.getElementById("search-results");

  toggle.addEventListener("click", (e) => {
    e.preventDefault();
    searchContainer.style.display =
      searchContainer.style.display === "none" || !searchContainer.style.display
        ? "block"
        : "none";
    if (searchContainer.style.display === "block") input.focus();
  });

  try {
    // ✅ 最新版Pagefindでは window.pagefind ではなく、window.Pagefindでアクセス
    const pagefind = await new Promise((resolve, reject) => {
      const check = setInterval(() => {
        if (window.Pagefind) {
          clearInterval(check);
          resolve(window.Pagefind);
        }
      }, 100);
      setTimeout(() => reject("Pagefind load timeout"), 5000);
    });

    console.log("✅ Pagefind loaded");

    input.addEventListener("input", async (e) => {
      const query = e.target.value.trim();
      resultsDiv.innerHTML = "";
      if (!query) return;

      const results = await pagefind.search(query);
      if (!results?.results?.length) {
        resultsDiv.innerHTML = "<p>該当する結果はありません。</p>";
      } else {
        for (const r of results.results) {
          const data = await r.data();
          const item = document.createElement("div");
          item.innerHTML = `<a href="${data.url}" style="color:#333;text-decoration:none;">${data.meta.title}</a>`;
          resultsDiv.appendChild(item);
        }
      }
    });
  } catch (err) {
    console.error("❌ Pagefind 読み込みエラー:", err);
  }
});
</script>





	</body>
</html>
